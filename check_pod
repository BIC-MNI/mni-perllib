#!/usr/local/bin/perl5 -w

# checks a pod for:
#   * bad em-dashes ('--' between words rather than '---')
#   * bad refs to other modules (where list of known modules
#     is just the mni_perllib modules)

sub show_match
{
#   my $where = "$ARGV:$.: ";
#   print $where . $_;
#   print ' ' x (length ($`) + length ($where)). '^' x length ($&) . "\n";

   print $_;
   print ' ' x length ($`). '^' x length ($&) . "\n";
}


while (<>)
{
   next if /^\s+/;                      # skip code examples
#   print if /\B(--)\B/;                 # bad em-dash
#   print if (/([^<]([A-Za-z_]+::[A-Za-z_]+(::[A-Za-z_]+)*)[^>])/)

   # catch "Foo::Bar(::...)" not wrapped in <>
   show_match 
      if /(([^<]\b|^)([A-Za-z_]+::[A-Za-z_]+(::[A-Za-z_]+)*)(\b[^>]|$))/;

   # catch "<Foo::Bar>" preceded by anything but 'F' or 'L'
   show_match
      if /[^FL]<([A-Za-z_]+::[A-Za-z_]+)>/;


}
   
   
